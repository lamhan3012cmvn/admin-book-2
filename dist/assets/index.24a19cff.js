var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,d=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))n.call(t,a)&&s(e,a,t[a]);return e},c=(e,r)=>t(e,a(r));import{R as i,u as o,j as h,a as m,F as u,b as p,q as g,t as x,c as b,d as y,e as N,L as f,A as v,f as w,o as S,g as C,h as k,i as P,k as D,l as T,m as E,n as V,p as I,P as F,r as _,E as B,s as L,v as j,w as M,x as H,B as q,y as A,z as R,T as O,C as G}from"./vendor.e7af9ebf.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const z=()=>{const e=i.useRef(null),t=localStorage.getItem("token"),a=o();i.useEffect((()=>{t||a.push("/login")}),[]);return h("div",{className:"md:fixed md:w-full md:top-0 md:z-20 flex flex-row flex-wrap items-center bg-white p-6 border-b border-gray-300",children:[m("div",{className:"flex-none w-[300px] flex flex-row items-center",children:m("p",{className:"capitalize ml-1 flex-1 text-xl",children:"Trang Quản Trị PureAgarwood"})}),m("button",{id:"navbarToggle",onClick:()=>{if(e.current.classList.contains("md:hidden"))e.current.classList.remove("md:hidden"),e.current.classList.add("fadeIn");else{!async function(){await(e.current.classList.remove("fadeIn"),e.current.classList.add("fadeOut"),void console.log("removed")),console.log("animated"),setTimeout((function(){e.current.classList.add("md:hidden"),e.current.classList.remove("fadeOut")}),450)}()}},className:"hidden md:block md:fixed right-0 mr-6",children:m(u,{})}),m("ul",{className:"wrap_menuAvatar flex flex-1 justify-end mr-10",children:h("li",{className:"menuItem",children:[h("div",{className:"flex items-center gap-[20px]",children:[m("div",{className:"iconAvatar w-[36px] h-[36px] rounded-[50%] overflow-hidden",children:m("img",{src:"/assets/avatar-vat.93e04e05.jpg",className:"w-full h-full object-cover",alt:"icon"})}),h("p",{className:"flex items-center gap-[5px]",children:["Admin",m(u,{})]})]}),m("div",{className:"wrap_contentHover",children:h("div",{className:"contentHover py-[5px]",children:[m("p",{className:"menuProfile menuLinkHover",onClick:()=>{localStorage.removeItem("token"),a.push("/login")},children:"Đăng xuất"}),m("div",{className:"lineMenu"})]})})]})})]})};var U,K;(K=U||(U={})).GET="GET",K.POST="POST",K.PUT="PUT",K.PATCH="PATCH",K.DELETE="DELETE";const Q=p.create({baseURL:"https://api.pureagarwood.vn/api",timeout:2e4,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},paramsSerializer:e=>g.stringify(e)});Q.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>(console.log(e.response),Promise.reject(e)))),Q.interceptors.response.use((e=>e&&e.data?e.data:e),(e=>(console.log(e),e.response&&e.response.data?e.response.data:Promise.reject(e))));const X=async(e,t={params:{},body:{}},a={})=>{switch(e.method){case U.GET:return await Q.get(e.url,{params:t.params});case U.POST:return await Q.post(e.url,t.body,{params:t.params});case U.PUT:return await Q.put(e.url,t.body,{params:t.params});case U.PATCH:return await Q.patch(e.url,t.body,{params:t.params});case U.DELETE:return await Q.delete(e.url,{params:t.params})}},$={method:U.POST,url:"/login"},Y=e=>{const{title:t}=e;return m("span",{className:"text-red-600",children:t})},W=e=>x(e),J=b({email:y().email("Email chưa đúng định dạng").required("Vui lòng nhập email"),password:y().trim().required("Vui lòng nhập mật khẩu")}).required(),Z=e=>{const{register:t,handleSubmit:a,formState:{errors:r}}=N({resolver:S(J)}),l=o(),[n,s]=i.useState(!1);return m("div",{className:"flex items-center justify-center h-screen",children:m("div",{className:"w-1/2 max-w-[550px]",children:h("div",{className:"mt-10 px-12 sm:px-24 md:px-48 lg:px-12 lg:mt-16 xl:px-24 xl:max-w-2xl",children:[m("h2",{className:"text-center text-4xl text-green-400 font-display font-semibold lg:text-left xl:text-5xl xl:text-bold",children:"Đăng nhập"}),m("div",{className:"mt-12",children:h("form",{onSubmit:a((async e=>{const t=await(async({email:e,password:t})=>X($,{body:{email:e,password:t}}))({email:e.email,password:e.password});t.success&&"ADMIN"===t.data.role&&(localStorage.setItem("token",t.data.token),W("Đăng nhập thành công"),l.push("/admin/"))})),children:[h("div",{children:[m("div",{className:"text-sm font-bold text-gray-700 tracking-wide",children:"Tên tài khoản"}),m("input",c(d({},t("email")),{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-green-600",type:"",placeholder:"mike@gmail.com"})),r.email&&m(Y,{title:r.email.message})]}),h("div",{className:"mt-8",children:[h("div",{className:"flex justify-between items-center",children:[m("div",{className:"text-sm font-bold text-gray-700 tracking-wide",children:"Mật khẩu"}),m("div",{children:m(f,{to:"/forgotPassword",children:m("a",{className:"text-xs font-display font-semibold text-green-400 hover:text-green-600 cursor-pointer",children:"Quên mật khẩu?"})})})]}),h("div",{className:"relative",children:[m("input",c(d({},t("password")),{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-indigo-500",type:n?"text":"password",placeholder:"Enter your password"})),m("div",{className:"absolute top-[50%] right-[15px] translate-y-[-50%] cursor-pointer",onClick:()=>s(!n),children:m(n?v:w,{className:"text-[20px]"})})]}),r.password&&m(Y,{title:r.password.message})]}),m("div",{className:"mt-10",children:m("button",{className:"bg-green-400 text-white p-4 w-full rounded-full tracking-wide font-semibold font-display focus:outline-none focus:shadow-outline hover:bg-opacity-80 shadow-lg",children:"Đăng nhập"})})]})})]})})})},ee={method:U.GET,url:"admin/statistics"},te={method:U.GET,url:"/auth"},ae={method:U.GET,url:"admin/postTexts"},re=C(k({initialState:{sideBars:[{id:1,title:"Dashboard"}],loading:!1},actions:{setSideBar:e=>({setState:t,getState:a})=>{t(c(d({},a()),{sideBars:e}))}}}),{selector:e=>({blogs:e.sideBars||[]})}),le=()=>{const[e,t]=re(),a=[{page:"Quản Lý Banner",child:[{url:"/admin/banner-manager",title:"Danh sách banner"}]},{page:"Quản Lý Danh Mục Sản Phẩm",child:[{url:"/admin/category-manager",title:"Danh sách danh mục"}]},{page:"Quản Lý Sản Phẩm",child:[{url:"/admin/product-manager",title:"Danh sách sản phẩm"}]},{page:"Quản Lý Bài Đăng",child:[...e.blogs.map(((e,t)=>({url:`/admin/blog-manager/${e.id}`,title:e.title})))]},{page:"Quản Lý Đơn Hàng",child:[{url:"/admin/bill-manager",title:"Danh sách đơn hàng"}]},{page:"Quản Lý Giá Ship",child:[{url:"/admin/price-ship-manager",title:"Danh sách giá ship"}]},{page:"Quản Lý Người Dùng",child:[{url:"/admin/user-manager",title:"Danh sách tài khoản"},{url:"/admin/email-request",title:"Danh Sách Email Đăng Ký"}]}],r=async()=>{const e=await(async()=>X(ae))();e.success?t.setSideBar(e.data):t.setSideBar([])};return i.useEffect((()=>{r()}),[]),m("div",{id:"sideBar",className:"relative flex flex-col flex-wrap bg-white border-r border-gray-300 p-6 flex-none w-64 md:-ml-64 md:fixed md:top-0 md:z-30 md:h-screen md:shadow-xl animated faster",children:h("div",{className:"flex flex-col",children:[m("div",{className:"text-right hidden md:block mb-4",children:m("button",{id:"sideBarHideBtn",children:m("i",{className:"fad fa-times-circle"})})}),a.map(((e,t)=>h(i.Fragment,{children:[m("p",{className:"uppercase text-xs text-gray-600 mb-4 tracking-wider",children:e.page}),e.child.map(((e,t)=>h(f,{to:e.url,className:"mb-3 capitalize font-medium text-sm hover:text-teal-600 transition ease-in-out duration-500",children:[m("i",{className:"fad fa-chart-pie text-xs mr-2"}),e.title]},t)))]},t)))]})})},ne={method:U.GET,url:"admin/banners"},se=C(k({initialState:{banners:[],idBanner:0,loading:!1},actions:{setBanners:e=>({setState:t,getState:a})=>{t(c(d({},a()),{banners:e}))},setIdBanner:e=>({setState:t,getState:a})=>{t(c(d({},a()),{idBanner:e}))}}}),{selector:e=>({banners:e.banners||[],banner:e.banners.find((t=>t.id===e.idBanner))})});function de({children:e}){return m("div",{className:"flex justify-center gap-x-2",children:e})}const ce=({children:e,onClick:t})=>m("div",{className:"border border-green-600 rounded-md px-3 py-2 text-green-400 cursor-pointer hover:bg-green-600 hover:text-green-200",onClick:t,children:e});const ie=e=>{const{children:t,showed:a,setShowed:r}=e;return m("div",{className:"w-screen h-[0] fixed top-[0] left-[0] z-[1999] modal "+(a?"active":""),children:h("div",{className:"relative w-full h-full flex justify-center items-center",children:[m("div",{className:"absolute top-[0] left-[0] bottom-[0] right-[0] modal-overlay",onClick:()=>r(!1)}),t]})})},oe=(...e)=>e.filter(Boolean).join(" ");const he=({className:e="",children:t,onClick:a})=>m("button",{onClick:a,className:oe("relative min-w-[160px] border-2 rounded-lg border-green-500 px-6 py-2 text-base lg:text-xl text-green-500 z-[1]","before:absolute before:top-[0] before:left-[0] before:h-full before:w-[0%] before:bg-[#FADA5E] before:rounded-lg before:transition-all before:ease-in-out before:duration-150"),children:t}),me={method:U.POST,url:"admin/banners"},ue=[{id:0,value:"Chờ xác nhận"},{id:1,value:"Đang giao"},{id:2,value:"Đã giao"},{id:3,value:"Hủy đơn"}],pe=[{id:0,value:"Không hoạt động"},{id:1,value:"Đang hoạt động"}],ge=[{id:0,value:"Tiếng Việt"},{id:1,value:"Tiếng Anh"}],xe=e=>e.toLocaleString("it-IT",{style:"currency",currency:"VND"});const be=e=>{const{idCheckBox:t,list:a,state:r,registerForm:l,handleChoose:n}=e,s=i.useRef();return h("div",{className:"relative",children:[m("label",{htmlFor:t,className:"cursor-pointer outline-none focus:outline-none transition-all text-gray-300 hover:text-gray-600",children:h("div",{className:"h-10 bg-white flex border border-gray-200 rounded items-center",children:[m("input",c(d({},l),{type:"text",defaultValue:"",hidden:!0})),m("span",{className:"px-4 appearance-none outline-none select-none text-gray-800 w-full",children:r}),m("svg",{className:"w-4 h-4 mx-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m("polyline",{points:"18 15 12 9 6 15"})})]})}),m("input",{type:"checkbox",id:t,className:"peer",ref:s,hidden:!0}),m("div",{className:"absolute rounded shadow bg-white overflow-hidden hidden peer-checked:flex flex-col w-full mt-1 border border-gray-200 z-10",children:a.map(((e,t)=>m("div",{className:"cursor-pointer group",onClick:()=>{return t=e,s.current.checked=!1,void n(t);var t},children:m("a",{className:"block p-2 border-transparent border-l-4 group-hover:border-blue-600 group-hover:bg-gray-100",children:e.value})},t)))})]})},ye=b({url:y().required("Vui lòng nhập thông tin tấm ảnh").url("Không đúng định dạng URL"),title:y().required("Vui lòng nhập tiêu đề"),desc:y().required("Vui lòng nhập mô tả"),lang:P().required("Vui lòng chọn ngôn ngữ").min(0,"Vui lòng chọn ngôn ngữ").max(1,"Vui lòng chọn ngôn ngữ")}).required(),Ne=e=>{const{handleHideFrom:t}=e,[a,r]=se();i.useEffect((()=>{s("lang",0)}),[]);const{register:l,handleSubmit:n,setValue:s,formState:{errors:o}}=N({resolver:S(ye)}),[u,p]=i.useState("Tiếng Việt");return m("div",{className:"py-6 px-4 max-w-[800px] w-full relative  ",children:m("div",{className:"w-full bg-white rounded shadow-2xl p-8 m-4 productForm-wrapper z-10",children:h("div",{className:"py-6 px-4",children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Tạo Banner"}),h("form",{onSubmit:n((async e=>{const a={url:e.url,title:e.title,desc:e.desc,lang:e.lang},l=await(async e=>X(me,{body:e}))(a);l.success?(r.setBanners(l.data),t(),W("Tạo banner thành công")):(console.log(l.message),t(),W("Tạo banner thất bại"))})),children:[h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"link_Image",children:"Link ảnh"}),m("input",c(d({},l("url")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"link_Image",defaultValue:"",placeholder:"VD: https://www.google.com/"}))]}),o.url&&m(Y,{title:o.url.message}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"title",children:"Tiêu đề"}),m("input",c(d({},l("title")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"title",defaultValue:"",placeholder:"VD: Trầm hương nguyên chất"}))]}),o.title&&m(Y,{title:o.title.message}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"language",children:"Ngôn ngữ"}),m(be,{state:u,handleChoose:e=>{p(e.value),s("lang",e.id)},idCheckBox:"status_checked",list:ge})]}),o.lang&&m(Y,{title:o.lang.message}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"desc",children:"Mô tả ngắn"}),m("textarea",c(d({},l("desc")),{className:"border py-2 px-3 text-grey-800 min-h-[200px]",id:"desc",defaultValue:"",placeholder:"VD: Trầm hương nguyên chất"}))]}),o.desc&&m(Y,{title:o.desc.message}),m("div",{className:"flex justify-center items-center",children:m("button",{className:"border border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})})]})]})})})},fe={method:U.DELETE,url:"admin/banners"},ve={method:U.PATCH,url:"admin/banners"},we=b({url:y().required("Vui lòng nhập thông tin tấm ảnh").url("Không đúng định dạng URL"),title:y().required("Vui lòng nhập tiêu đề"),desc:y().required("Vui lòng nhập mô tả"),lang:P().required("Vui lòng chọn ngôn ngữ").min(0,"Vui lòng chọn ngôn ngữ").max(1,"Vui lòng chọn ngôn ngữ")}).required(),Se=e=>{var t,a,r;const{handleHideFrom:l}=e,[n,s]=se(),{register:o,handleSubmit:u,setValue:p,formState:{errors:g}}=N({resolver:S(we)}),[x,b]=i.useState("Viet Nam");return i.useEffect((()=>{var e;n.banner&&(b(null==(e=ge.find((e=>e.id===n.banner.lang)))?void 0:e.value),p("lang",n.banner.lang),p("title",n.banner.title),p("desc",n.banner.desc),p("url",n.banner.url))}),[n.banner]),m("div",{className:"py-6 px-4 max-w-[800px] w-full relative  ",children:m("div",{className:"w-full bg-white rounded shadow-2xl p-8 m-4 productForm-wrapper z-10",children:h("div",{className:"py-6 px-4",children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Cập nhật"}),h("form",{onSubmit:u((async e=>{console.log("LHA:  ===> file: index.tsx ===> line 38 ===> data",e);const t={id:n.banner.id,title:e.title,desc:e.desc,url:e.url,lang:e.lang},a=await(async e=>X(ve,{body:e}))(t);a.success?(s.setBanners(a.data),l(),W("Cập nhật banner thành công")):(l(),W("Cập nhật banner thất bại"))})),children:[h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"link_Image",children:"Link ảnh"}),m("input",c(d({},o("url")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"link_Image",defaultValue:null==(t=n.banner)?void 0:t.url}))]}),g.url&&m(Y,{title:g.url.message}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"title",children:"Tiêu đề"}),m("input",c(d({},o("title")),{className:"border py-2 px-3 text-grey-800",type:"text",name:"title",id:"title",defaultValue:null==(a=n.banner)?void 0:a.title}))]}),g.title&&m(Y,{title:g.title.message}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"language",children:"Ngôn ngữ"}),m(be,{state:x,handleChoose:e=>{b(e.value),p("lang",e.id)},idCheckBox:"status_checked",list:ge})]}),g.lang&&m(Y,{title:g.lang.message}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"desc",children:"Mô tả ngắn"}),m("textarea",c(d({},o("desc")),{className:"border py-2 px-3 text-grey-800 min-h-[200px]",id:"desc",defaultValue:null==(r=n.banner)?void 0:r.desc}))]}),g.desc&&m(Y,{title:g.desc.message}),m("div",{className:"flex justify-center items-center",children:m("button",{className:"border border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})})]})]})})})},Ce=()=>{const[e,t]=se(),[a,r]=i.useState(!1),[l,n]=i.useState(!1),s=async e=>{const a=await(async e=>X(fe,{params:e}))({id:e});a.success?(t.setBanners(a.data),W("Xóa banner thành công")):W("Xóa banner thất bại")};return h("div",{children:[h("div",{className:"rounded bg-white border border-gray-300",children:[h("div",{className:"flex items-center justify-between px-5",children:[m("div",{className:"p-6",children:"Danh Sách Banner"}),m("div",{children:m(he,{onClick:()=>{n(!0)},children:"Tạo banner mới"})})]}),h("table",{className:"table-auto w-full text-left",children:[m("thead",{children:h("tr",{children:[m("th",{className:"px-4 py-2 border-r text-center",children:"Hình ảnh"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Tiêu đề banner"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Mô tả ngắn"}),m("th",{className:"px-4 py-2 border-r text-center w-[100px]",children:"Ngôn ngữ"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Chức năng"})]})}),m("tbody",{className:"text-gray-600",children:e.banners.map(((e,a)=>h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:m("div",{className:"w-[100px] h-[100px] rounded-xl",children:m("img",{src:e.url,alt:"",className:"w-full h-full object-cover rounded-xl"})})}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black w-[200px]",children:e.title}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:e.desc}),m("td",{className:"border border-l-0 px-4 py-2 text-black text-center",children:0===e.lang?"🇻🇳":"🇺🇸"}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:h(de,{children:[m(ce,{onClick:()=>{var a;a=e.id,t.setIdBanner(a),r(!0)},children:m(D,{})}),m(ce,{onClick:()=>{s(e.id)},children:m(T,{})})]})})]},a)))})]})]}),a&&m(ie,{showed:!0,setShowed:()=>r(!1),children:m(Se,{handleHideFrom:()=>r(!1)})}),l&&m(ie,{showed:!0,setShowed:n,children:m(Ne,{handleHideFrom:()=>{n(!1)}})})]})},ke=e=>{const[t,a]=se(),r=async()=>{const e=await(async()=>X(ne,{}))();e.success?a.setBanners(e.data):a.setBanners([])};return i.useEffect((()=>{r()}),[]),m("div",{className:"mt-5",children:m(Ce,{})})},Pe=C(k({initialState:{bills:[],billDetail:void 0,billManager:void 0,loading:!1,totalPage:0,pageNo:1},actions:{setBillManager:(e,t)=>({setState:a,getState:r})=>{a(c(d({},r()),{bills:e,totalPage:t}))},setBillDetail:e=>({setState:t,getState:a})=>{t(c(d({},a()),{billDetail:e}))},setBillManagerDetail:e=>({setState:t,getState:a})=>{t(c(d({},a()),{billManager:e}))},setPageNo:e=>({setState:t,getState:a})=>{t(c(d({},a()),{pageNo:e}))}}}),{selector:e=>({bills:e.bills||[],billDetail:e.billDetail||void 0,billManager:e.billManager||void 0,totalPage:e.totalPage,pageNo:e.pageNo})}),De=({bill:e})=>{const{orderItem:t}=e||{orderItem:void 0};return h("div",{children:[m("div",{className:"card-header w-full",children:h("div",{className:"px-[20px] flex justify-between items-center mt-4",children:[h("p",{className:"m-0",children:[m("strong",{children:"Mã đơn hàng:"})," ",null==t?void 0:t.orderId]}),h("p",{className:"m-0",children:[m("strong",{children:"Tổng: "}),xe((null==t?void 0:t.totalPrice)||0)]})]})}),m("div",{className:"mt-4 px-[20px]",children:null==t?void 0:t.orderProducts.map(((t,a)=>h("div",{className:"card-body w-full grid grid-cols-[3fr,2fr,1fr] mt-[20px]",children:[m("div",{className:"flex",children:h("div",{className:"card-image",children:[m("img",{src:t.productImage,alt:""}),m("span",{children:t.productName})]})}),m("div",{className:"flex items-center",children:m("p",{children:ue[(null==e?void 0:e.status)||0].value})}),h("div",{className:"flex items-center",children:[h("span",{children:[" ",t.quantity]}),h("span",{children:[" x ",xe(t.price)]})]})]},a)))})]})},Te=e=>{var t;const[a,r]=Pe();return m("div",{className:"py-6 px-4 max-w-[1200px] w-full relative  ",children:m("div",{className:"w-full bg-white rounded shadow-2xl p-8 m-4 productForm-wrapper z-10",children:m("div",{className:"py-6 px-4 productForm-scroll",children:m("div",{className:"app",children:h("div",{className:"container py-5",children:[m("input",{type:"radio",name:"tab-manager",id:"tab-tatCa",hidden:!0,checked:!0}),m("div",{className:"wrap-status",children:m("h3",{className:"status font-bold text-2xl tatCa",children:"Chi tiết đơn hàng"})}),m("div",{className:"wrap-content mt-5",children:m("div",{className:"content-tab  mt-5",children:h("div",{className:"tab-item tabTatCa",children:[m("div",{className:"flex",children:h("h4",{className:"soLuong font-bold text-xl",children:[null==(t=a.billDetail)?void 0:t.orderProducts.length," Đơn hàng"]})}),h("div",{className:"grid grid-cols-[3fr,2fr,1fr] h-12 title-colum-tab items-center px-[20px] mt-4",children:[m("span",{children:"Sản phẩm"}),m("span",{children:"Trạng thái"}),m("span",{children:"Tổng đơn"})]}),m("div",{className:"wrap-cart row",children:m("div",{className:"card mb-3 w-full px-0",style:{width:"100%"},children:m(De,{bill:a.billManager})})})]})})})]})})})})})},Ee={method:U.PATCH,url:"admin/orders"},Ve=e=>{var t,a;const{handleHideModal:r}=e,[l,n]=Pe(),s=async e=>{var t;e.preventDefault();const a=await(async e=>X(Ee,{params:c(d({},e),{lang:0})}))({id:null==(t=l.billManager)?void 0:t.id,status:o.id,pageNo:0});a.success?(n.setBillManager(a.data.datas,a.data.totalItem),r(),W("Cập nhật hóa đơn thành công")):(r(),W("Cập nhật hóa đơn thất bại"))};i.useEffect((()=>{var e;u(ue[(null==(e=l.billManager)?void 0:e.status)||0])}),[null==(t=l.billManager)?void 0:t.status]);const[o,u]=i.useState(ue[(null==(a=l.billManager)?void 0:a.status)||0]);return m("div",{className:"py-6 px-4 max-w-[600px] w-full relative  ",children:m("div",{className:"w-full bg-white rounded shadow-2xl p-8 m-4 productForm-wrapper z-10",children:h("div",{className:"py-6 px-4",children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Cập nhật trạng thái đơn"}),h("form",{onSubmit:e=>s(e),children:[h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"Select",children:"Trạng thái"}),m(be,{state:o.value,handleChoose:e=>{u(e)},idCheckBox:"status",list:ue})]}),m("div",{className:"flex justify-center items-center",children:m("button",{className:"border border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})})]})]})})})},Ie={method:U.GET,url:"admin/orders"},Fe=({handleShowDetail:e,handleShowEdit:t})=>{const[a,r]=Pe(),[l,n]=i.useState(0),s=async(e,t)=>{const a=await(async(e,t)=>X(Ie,{params:{pageNo:e,lang:t}}))(e,t);a.success?r.setBillManager(a.data.datas,a.data.totalItem):r.setBillManager([],0)};i.useEffect((()=>{s(a.pageNo-1,l)}),[a.pageNo,l]);const d=e=>{e!==l&&(n(e),r.setPageNo(1))};return m("div",{children:h("div",{className:"rounded bg-white border border-gray-300",children:[m("div",{className:"border-b p-6",children:h("p",{className:"flex gap-[10px]",children:[m("span",{className:"cursor-pointer "+(0===l?"text-green-500":"text-gray-500"),onClick:()=>d(0),children:"VI"}),m("span",{className:"cursor-pointer "+(1===l?"text-green-500":"text-gray-500"),onClick:()=>d(1),children:"EN"})]})}),h("table",{className:"table-auto w-full text-left",children:[m("thead",{children:h("tr",{children:[m("th",{className:"px-4 py-2 border-r text-center",children:"Khách hàng"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Địa chỉ"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Số điện thoại"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Tổng đơn"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Ngày tạo đơn"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Trạng thái"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Ghi chú (nếu có)"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Chức năng"},"action")]})}),m("tbody",{className:"text-gray-600",children:a.bills.map(((a,l)=>h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:a.name}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:a.address}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:a.phone}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:xe(a.totalPrice)}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:E(a.createdAt).format(" DD:mm DD/MM/YYYY")}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:m("span",{className:" px-3 py-2 text-black rounded-md select-none "+(0===a.status?"bg-blue-300":1===a.status?"bg-yellow-200":2===a.status?"bg-green-300":"bg-red-300"),children:ue[a.status].value})}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:a.note}),m("td",{className:"border border-l-0 border-r-0 px-4 py-2 text-center",children:h(de,{children:[m(ce,{onClick:()=>{var t;t=a,e(),r.setBillManagerDetail(t)},children:m(V,{})}),m(ce,{onClick:()=>{var e;e=a,r.setBillManagerDetail(e),t()},children:m(I,{})})]})})]},l)))})]}),m("div",{className:"h-[60px] flex justify-center items-center",children:m(F,{activePage:a.pageNo,itemsCountPerPage:15,totalItemsCount:a.totalPage,pageRangeDisplayed:5,onChange:e=>r.setPageNo(e)})})]})})},_e=e=>{const[t,a]=i.useState(!1),[r,l]=i.useState(!1);return h("div",{className:"mt-5",children:[t&&m(ie,{showed:t,setShowed:a,children:m(Te,{})}),r&&m(ie,{showed:r,setShowed:l,children:m(Ve,{handleHideModal:()=>l(!1)})}),m(Fe,{handleShowDetail:()=>a(!0),handleShowEdit:()=>l(!0)})]})},Be={method:U.GET,url:"admin/posts"},Le=C(k({initialState:{blogs:[],blogDetail:void 0,loading:!1},actions:{setBlog:e=>({setState:t,getState:a})=>{t(c(d({},a()),{blogs:e}))},setBlogDetail:e=>({setState:t,getState:a})=>{t(c(d({},a()),{blogDetail:e}))}}}),{selector:e=>({blogs:e.blogs||[],blogDetail:e.blogDetail||void 0})}),je=()=>{const[e,t]=Le(),a=async()=>{const e=await(async()=>X(Be))();!0===e.success?t.setBlog(e.data):(console.log(e.message),t.setBlog([]))};return i.useEffect((()=>{a()}),[]),m("div",{})},Me={method:U.GET,url:"posts/post"},He={method:U.PATCH,url:"admin/posts"},qe=(e,t)=>{const a=_.exports.useRef(),r=_.exports.useRef(e);return _.exports.useEffect((()=>{r.current=e}),[t]),_.exports.useCallback(((...e)=>{a.current&&(clearTimeout(a.current),a.current=null),a.current=setTimeout((()=>{var t;return null==(t=r.current)?void 0:t.call(r,...e)}),t)}),[])},Ae=e=>{var t,a,r,l,n,s;const[d,c]=Le(),{hideModal:o}=e,u=i.useRef(null),p=[{id:0,value:"Không hoạt động"},{id:1,value:"Đang hoạt động"}],[g,x]=i.useState(p[(null==(t=d.blogDetail)?void 0:t.status)||0]),[b,y]=i.useState((null==(a=d.blogDetail)?void 0:a.title)||""),[N,f]=i.useState((null==(r=d.blogDetail)?void 0:r.content)||"");qe((e=>{f(e)}),300);i.useEffect((()=>{var e;x(p[(null==(e=d.blogDetail)?void 0:e.status)||0])}),[null==(l=d.blogDetail)?void 0:l.status]),i.useEffect((()=>{var e;y(null==(e=d.blogDetail)?void 0:e.title)}),[null==(n=d.blogDetail)?void 0:n.title]);const v=i.useRef(),w=async e=>{var t,a;e.preventDefault();const r={id:null==(t=d.blogDetail)?void 0:t.id,title:e.target.name_blog.value,status:g.id,postId:null==(a=d.blogDetail)?void 0:a.postId,content:u.current.getContent()},l=await(async e=>(console.log("LHA:  ===> file: UBlogDetail.ts ===> line 11 ===> payload",e),X(He,{body:e})))(r);!0===l.success?(c.setBlogDetail(l.data),o(),W("Cập nhật bài đăng thành công")):(o(),W("Cập nhật bài đăng thất bại"))};return m("div",{className:"py-6 px-4 bg-white mt-[20px]",children:h("div",{children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Cập nhật"}),h("form",{action:"/",method:"post",ref:v,onSubmit:e=>w(e),children:[h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"name_blog",children:"Tiêu đề"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"name_blog",id:"name_blog",defaultValue:b})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"Select",children:"Trạng thái"}),m(be,{state:g.value,handleChoose:e=>{x(e)},idCheckBox:"status_checked",list:p})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"description_BlogEdit",children:"Mô tả"}),m(B,{apiKey:"y76jxx43mgkptc4d0yhzovx3duuirvviil3zetp2ekdkhjaq",onInit:(e,t)=>u.current=t,initialValue:null==(s=d.blogDetail)?void 0:s.content,init:{height:700,menubar:!0,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"undo redo | formatselect | bold italic | TextColor |             alignleft aligncenter alignright |             bullist numlist outdent indent| Image | help"}})]}),h("div",{className:"flex justify-center items-center gap-x-[20px]",children:[m("button",{onClick:()=>o(),className:"border min-w-[120px] justify-center border-[#38b2ac] text-[#38b2ac] rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Hủy"}),m("button",{className:"border min-w-[120px] justify-center  border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})]})]})]})})},Re=e=>{var t,a,r,l;console.log("Blog Detail");const[n,s]=Le(),d=L(),c=async e=>{console.log("LHA:  ===> file: index.tsx ===> line 14 ===> id",e);const t=await(async({id:e})=>(console.log("LHA:  ===> file: RBlogDetail.ts ===> line 15 ===> id",e),X(Me,{params:{id:e}})))({id:e});!0===t.success?s.setBlogDetail(t.data):(console.log(t.message),s.setBlogDetail(void 0))},[o,u]=i.useState(!1);return i.useEffect((()=>{console.log(d.slug),c(+d.slug)}),[d.slug]),m("div",{children:o?m(Ae,{hideModal:()=>u(!1)}):h("div",{className:"bg-white mt-8 px-12 py-5 relative",children:[h("p",{className:"text-3xl font-bold text-black mt-5",children:[m("span",{children:"Bài đăng: "}),null==(t=n.blogDetail)?void 0:t.title]}),h("p",{className:"text-lg text-black",children:[m("span",{children:"Cập nhật: "}),E(null==(a=n.blogDetail)?void 0:a.updatedAt).fromNow()]}),h("p",{className:"text-lg text-black",children:[m("span",{children:"Trạng thái: "}),[{id:0,value:"Không hoạt động"},{id:1,value:"Đang hoạt động"}][(null==(r=n.blogDetail)?void 0:r.status)||0].value]}),m("div",{className:"ck5 mt-8",dangerouslySetInnerHTML:{__html:(null==(l=n.blogDetail)?void 0:l.content)||""}}),m("div",{onClick:()=>{u(!0)},className:"fixed top-[50%] right-0 w-[50px] h-[50px] border-2 border-green-400 bg-white rounded-md flex items-center justify-center cursor-pointer",children:m(I,{className:"text-green-600"})})]})})},Oe={method:U.POST,url:"admin/products"};U.DELETE,U.DELETE;const Ge={method:U.GET,url:"admin/products"},ze={method:U.PATCH,url:"admin/productTexts"},Ue={method:U.POST,url:"admin/categories"},Ke={method:U.DELETE,url:"admin/categories"},Qe={method:U.DELETE,url:"admin/subCategories"};U.DELETE,U.DELETE;const Xe={method:U.PATCH,url:"admin/categories"},$e={method:U.PATCH,url:"admin/subCategories"},Ye=C(k({initialState:{category:[],id:-1,currentSubCategory:null,currentCategory:null},actions:{getCategorySuccess:e=>({setState:t,getState:a})=>{t(c(d({},a()),{category:e}))},getCategoryError:()=>({setState:e,getState:t})=>{console.log("asdahs"),e(c(d({},t()),{category:[]}))},setIdCategory:e=>({setState:t,getState:a})=>{t(c(d({},a()),{id:e}))},setCurrentSubCategory:e=>({setState:t,getState:a})=>{t(c(d({},a()),{currentSubCategory:e}))},setCurrentCategory:e=>({setState:t,getState:a})=>{t(c(d({},a()),{currentCategory:e}))}}}),{selector:e=>({categories:e.category||[],listCategory:e.category.map((e=>({id:e.id,value:e.nameVn+" / "+e.nameEn}))),currentSubCategory:e.currentSubCategory,currentCategory:e.currentCategory,listSubCategory:()=>{const t=e.category.find((t=>t.id===e.id));return(null==t?void 0:t.subCategory.map((e=>({id:e.id,value:e.nameVn+" / "+e.nameEn}))))||[]}})}),We=b({nameVn:y().required("Vui lòng nhập danh mục"),nameEn:y().required("Vui lòng nhập danh mục con")}).required(),Je=({hiddenCreate:e})=>{const[t,a]=Ye(),{register:r,handleSubmit:l,formState:{errors:n}}=N({resolver:S(We)});return m("div",{children:h("div",{className:"max-w-[1200px] min-w-[400px] py-8 px-8 w-full relative createProduct_wrapper",children:[m("h3",{className:"text-2xl text-center mb-5",children:"Tạo danh mục"}),h("form",{className:"flex flex-col gap-x-3 gap-y-4",onSubmit:l((async t=>{const r={nameVn:t.nameVn,nameEn:t.nameEn},l=await(async e=>X(Ue,{body:d({},e)}))(r);l.success?(a.getCategorySuccess(l.data),e(!1),W("Tạo danh mục thành công")):W("Tạo danh mục thất bại")})),children:[m("div",{children:m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-en",children:"Danh mục 🇺🇸"}),m("input",c(d({},r("nameEn")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"category-en",placeholder:"VD: Material"})),n.nameEn&&m(Y,{title:n.nameEn.message})]})})}),m("div",{className:"",children:m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-vn",children:"Danh mục 🇻🇳"}),m("input",c(d({},r("nameVn")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"category-vn",placeholder:"VD: Nguyên liệu"})),n.nameVn&&m(Y,{title:n.nameVn.message})]})})}),m("div",{className:"flex items-center justify-center mt-3",children:m(he,{onClick:()=>{},children:"Lưu"})})]})]})})},Ze={method:U.POST,url:"admin/subCategories"},et=b({sub_category_checked:P().required("Vui lòng chọn category"),nameSubCateEN:y().required("Vui lòng nhập danh mục"),nameSubCateVN:y().required("Vui lòng nhập danh mục")}).required(),tt=({hiddenCreate:e})=>{const{register:t,handleSubmit:a,setValue:r,formState:{errors:l}}=N({resolver:S(et)}),[n,s]=Ye(),[o,u]=i.useState({id:-1,value:"Chọn danh mục cha"});return m("div",{children:h("div",{className:"max-w-[1200px] min-w-[400px] py-8 px-8 w-full relative createProduct_wrapper",children:[m("h3",{className:"text-2xl text-center mb-5",children:"Tạo danh mục con"}),h("form",{className:"flex flex-col gap-x-3 gap-y-4",onSubmit:a((async t=>{const a={nameVn:t.nameSubCateVN,nameEn:t.nameSubCateEN,categoryId:t.sub_category_checked},r=await(async e=>X(Ze,{body:d({},e)}))(a);r.success?(s.getCategorySuccess(r.data),e(!1),W("Tạo danh mục con thành công")):W("Tạo danh mục con thất bại")})),children:[h("div",{children:[m("div",{className:"w-full pl-3",children:h("div",{className:"mb-4",children:[m("h3",{className:"mb-2 font-bold text-lg text-gray-900",children:"Danh mục cha"}),m(be,{state:o.value,handleChoose:e=>{u(e),r("sub_category_checked",e.id),s.setIdCategory(e.id)},idCheckBox:"sub_category_checked",registerForm:t("sub_category_checked"),list:n.listCategory}),l.sub_category_checked&&m(Y,{title:l.sub_category_checked.message})]})}),m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-en",children:"Danh mục con 🇺🇸"}),m("input",c(d({},t("nameSubCateEN")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"category-en",placeholder:"VD: Pure Agarwood"})),l.nameSubCateEN&&m(Y,{title:l.nameSubCateEN.message})]})}),m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-vn",children:"Danh mục con 🇻🇳"}),m("input",c(d({},t("nameSubCateVN")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"category-vn",placeholder:"VD: Trầm Hương Nguyên Chất"})),l.nameSubCateVN&&m(Y,{title:l.nameSubCateVN.message})]})})]}),m("div",{className:"flex items-center justify-center mt-3",children:m(he,{onClick:()=>{},children:"Lưu"})})]})]})})},at=({hiddenCreate:e})=>{const[t,a]=Ye(),{currentCategory:r}=t,l=i.useRef(),[n,s]=i.useState(pe[(null==r?void 0:r.status)||0]);i.useEffect((()=>{r.status&&s(pe[r.status])}),[r.status]);return m("div",{children:h("div",{className:"max-w-[1200px] min-w-[400px] py-8 px-8 w-full relative createProduct_wrapper",children:[m("h3",{className:"text-2xl text-center mb-5",children:"Cập nhật"}),h("form",{className:"flex flex-col gap-x-3 gap-y-4",ref:l,onSubmit:async t=>{if(t.preventDefault(),!r)return;const s={nameVn:l.current["category-vn"].value,nameEn:l.current["category-en"].value,status:n.id,id:r.id},c=await(async e=>X(Xe,{body:d({},e)}))(s);c.success?(a.getCategorySuccess(c.data),e(!1),W("Cập nhật danh mục thành công")):W("Cập nhật danh mục thất bại")},children:[h("div",{children:[m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-en",children:"Danh mục 🇺🇸"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"category-en",id:"category-en",defaultValue:null==r?void 0:r.nameEn})]})}),m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-vn",children:"Danh mục 🇻🇳"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"category-vn",id:"category-vn",defaultValue:null==r?void 0:r.nameVn})]})}),m("div",{className:"w-full pl-3",children:h("div",{className:"mb-4",children:[m("h3",{className:"mb-2 font-bold text-lg text-gray-900",children:"Status"}),m(be,{state:n.value,handleChoose:e=>{s(e)},idCheckBox:"category_status_checked",list:pe})]})})]}),m("div",{className:"flex items-center justify-center mt-3",children:m(he,{onClick:()=>{},children:"Lưu"})})]})]})})},rt=({hiddenCreate:e})=>{const[t,a]=Ye(),{currentSubCategory:r}=t,l=i.useRef(),n=[{id:0,value:"Không hoạt động"},{id:1,value:"Đang hoạt động"}],[s,c]=i.useState(n[(null==r?void 0:r.status)||0]);return m("div",{children:h("div",{className:"max-w-[1200px] min-w-[400px] py-8 px-8 w-full relative createProduct_wrapper",children:[m("h3",{className:"text-2xl text-center mb-5",children:"Cập nhật"}),h("form",{className:"flex flex-col gap-x-3 gap-y-4",ref:l,onSubmit:async t=>{if(t.preventDefault(),!r)return;const n={nameVn:l.current["category-vn"].value,nameEn:l.current["category-en"].value,status:s.id,categoryId:r.categoryId,id:r.id},c=await(async e=>X($e,{body:d({},e)}))(n);c.success?(a.getCategorySuccess(c.data),e(!1),W("Cập nhật danh mục con thành công")):W("Cập nhật danh mục con thất bại")},children:[h("div",{children:[m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-en",children:"Danh mục con 🇺🇸"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"category-en",id:"category-en",defaultValue:null==r?void 0:r.nameEn})]})}),m("div",{className:"w-full pl-3",children:h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"category-vn",children:"Danh mục con 🇻🇳"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"category-vn",id:"category-vn",defaultValue:null==r?void 0:r.nameVn})]})}),m("div",{className:"w-full pl-3",children:h("div",{className:"mb-4",children:[m("h3",{className:"mb-2 font-bold text-lg text-gray-900",children:"Trạng thái"}),m(be,{state:s.value,handleChoose:e=>{c(e)},idCheckBox:"sub_category_status_checked",list:n})]})})]}),m("div",{className:"flex items-center justify-center mt-3",children:m(he,{onClick:()=>{},children:"Lưu"})})]})]})})};const lt=({handleShowCreateCategory:e,handleShowCreateCategorySub:t,handleShowUpdateCategorySub:a,handleShowUpdateCategory:r})=>{const[l,n]=Ye(),s=async e=>{const t=await(async e=>X(Ke,{params:d({},e)}))({id:e});t.success?(n.getCategorySuccess(t.data),W("Xóa danh mục con thành công")):W("Xoá danh mục con thất bại")},c=async e=>{const t=await(async e=>X(Qe,{params:d({},e)}))({id:e});t.success?(n.getCategorySuccess(t.data),W("Xóa danh mục thành công")):W("Xoá danh mục thất bại")};return m("div",{children:h("div",{className:"rounded bg-white border border-gray-300",children:[m("div",{className:"border-b p-6",children:m("span",{children:"Danh Sách Danh Mục"})}),m("div",{className:"flex items-center justify-end",children:h("div",{className:"inline-flex",children:[h("div",{onClick:e,className:"border-2 flex items-center px-4 py-2 rounded-md gap-x-5 border-green-400 cursor-pointer my-2 mr-8",children:[m(j,{className:"text-green-400"}),m("span",{className:"text-black",children:"Tạo danh mục"})]}),h("div",{onClick:t,className:"border-2 flex items-center px-4 py-2 rounded-md gap-x-5 border-green-400 cursor-pointer my-2 mr-8",children:[m(j,{className:"text-green-400"}),m("span",{className:"text-black",children:"Tạo danh mục con"})]})]})}),h("table",{className:"table-auto border w-full text-left",children:[m("thead",{children:h("tr",{className:"text-black text-center",children:[m("th",{className:"px-4 py-2 border-r",children:"Danh mục 🇺🇸"}),m("th",{className:"px-4 py-2 border-r",children:"Danh mục 🇻🇳"}),m("th",{className:"px-4 py-2 border-r",children:"Đường dẫn 🇺🇸"}),m("th",{className:"px-4 py-2 border-r",children:"Đường dẫn 🇻🇳"}),m("th",{className:"px-4 py-2 border-r",children:"Trạng thái"}),m("th",{className:"px-4 py-2 border-r",children:"Cập nhật"}),m("th",{className:"px-4 py-2 border-r w-[180px]",children:"Chức năng"},"action")]})}),m("tbody",{className:"text-gray-600",children:l.categories.map(((e,t)=>h(i.Fragment,{children:[h("tr",{children:[h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ",e.nameEn]}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ",e.nameVn]}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ","/",e.slugEn]}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ","/",e.slugVn]}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:m("span",{className:" px-3 py-2 text-white rounded-md select-none "+(1===e.status?"bg-green-400":"bg-red-400"),children:e.status?"Đang hoạt động":"Không hoạt động"})}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ",E(e.updatedAt).fromNow()]}),m("td",{className:"border border-l-0 border-r-0 px-4 py-2",children:h(de,{children:[m("label",{htmlFor:`child${t}`,children:m(ce,{onClick:()=>{},children:m(V,{})})}),m(ce,{onClick:()=>{var t;t=e,n.setCurrentCategory(t),r()},children:m(I,{})}),m(ce,{onClick:()=>s(e.id),children:m(T,{})})]})})]}),e.subCategory.length>0&&m("tr",{children:m("td",{colSpan:7,children:h("div",{className:"overflow-hidden",children:[m("input",{type:"checkbox",name:"openTable",id:`child${t}`,hidden:!0}),m("div",{className:"rounded bg-white py-4 px-3 tableChild",children:h("table",{className:"table-auto w-full text-left border-2  rounded-md border-green-400",children:[m("thead",{children:h("tr",{className:"text-black text-center select-none",children:[m("th",{className:"px-4 py-2 border-r",children:"Danh mục con 🇺🇸"}),m("th",{className:"px-4 py-2 border-r",children:"Danh mục con 🇻🇳"}),m("th",{className:"px-4 py-2 border-r",children:"Đường dẫn 🇺🇸"}),m("th",{className:"px-4 py-2 border-r",children:"Đường dẫn 🇻🇳"}),m("th",{className:"px-4 py-2 border-r",children:"Trạng thái"}),m("th",{className:"px-4 py-2 border-r",children:"Cập nhật"}),m("th",{className:"px-4 py-2  w-[180px]",children:"Chức năng"})]})}),m("tbody",{className:"text-black",children:e.subCategory.map(((e,t)=>h("tr",{children:[h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ",e.nameEn]}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ",e.nameVn]}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ","/",e.slugEn]}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ","/",e.slugVn]}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:m("span",{className:" px-3 py-2 text-white rounded-md select-none "+(1===e.status?"bg-green-400":"bg-red-400"),children:e.status?"Đang hoạt động":"Không hoạt động"})}),h("td",{className:"border border-l-0 px-4 py-2 text-black",children:[" ",E(e.updatedAt).fromNow()]}),m("td",{className:"border border-l-0 border-r-0 border-green-400 px-4 py-2",children:h(de,{children:[m(ce,{onClick:()=>{var t;t=e,n.setCurrentSubCategory(t),a()},children:m(I,{})}),m(ce,{onClick:()=>{c(e.id)},children:m(T,{})})]})})]},t)))})]})})]})})})]},t)))})]})]})})},nt=({data:e})=>{const[t,a]=i.useState(!1),[r,l]=i.useState(!1),[n,s]=i.useState(!1),[d,c]=i.useState(!1);return h("div",{children:[t&&m(ie,{showed:t,setShowed:a,children:m(Je,{hiddenCreate:()=>a(!1)})}),r&&m(ie,{showed:r,setShowed:l,children:m(tt,{hiddenCreate:()=>l(!1)})}),n&&m(ie,{showed:n,setShowed:s,children:m(rt,{hiddenCreate:()=>s(!1)})}),d&&m(ie,{showed:d,setShowed:c,children:m(at,{hiddenCreate:()=>c(!1)})}),m(lt,{handleShowCreateCategory:()=>{a(!0)},handleShowCreateCategorySub:()=>{l(!0)},handleShowUpdateCategorySub:()=>{s(!0)},handleShowUpdateCategory:()=>{c(!0)}})]})},st={method:U.GET,url:"admin/categories"},dt=async()=>X(st),ct=e=>{const[t,a]=Ye();return i.useEffect((()=>{(async()=>{const e=await dt();e.success?a.getCategorySuccess(e.data):a.getCategoryError()})()}),[]),m("div",{className:"mt-5",children:m(nt,{data:t.categories})})},it=C(k({initialState:{emails:[],loading:!1,totalPage:0},actions:{setEmails:(e,t)=>({setState:a,getState:r})=>{a(c(d({},r()),{emails:e,totalPage:t}))}},name:"emailRequestCtx"}),{selector:e=>({emails:e.emails||[],totalPage:e.totalPage})}),ot={method:U.PATCH,url:"admin/emailRequests"},ht={method:U.GET,url:"admin/emailRequests"},mt=()=>{const[e,t]=it(),[a,r]=i.useState(1),l=async e=>{const a=await(async e=>X(ht,{params:{pageNo:e}}))(e);a.success&&t.setEmails(a.data.datas,a.data.totalItem)};i.useEffect((()=>{l(a-1)}),[a]);const n=async(e,r=1)=>{const l=await(async e=>X(ot,{params:e}))({id:e,status:r,pageNo:a-1});l.success?(t.setEmails(l.data.datas,l.data.totalItem),W("Đã phản hồi email")):W("Trạng thái chưa được thay đổi")};return m("div",{children:h("div",{className:"rounded bg-white border border-gray-300",children:[m("div",{className:"border-b p-6",children:"Danh Sách Email Đăng Ký"}),h("table",{className:"table-auto w-full text-left",children:[m("thead",{children:h("tr",{children:[m("th",{className:"px-4 py-2 border-r text-center",children:"Email"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Thời gian tạo"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Phản hồi"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Đã phản hồi"},"action")]})}),m("tbody",{className:"text-gray-600",children:e.emails.map(((e,t)=>h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:e.name}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:E(e.createdAt).fromNow()}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:m("span",{className:" px-3 py-2 text-white rounded-md select-none "+(1===e.status?"bg-green-400":"bg-red-400"),children:e.status?"Đã phản hồi":"Chưa phản hồi"})}),m("td",{className:"border border-l-0 border-r-0 px-4 py-2 text-center",children:m(de,{children:m(ce,{onClick:1===e.status?()=>{}:()=>{n(e.id,1)},children:m(M,{})})})})]},t)))})]}),m("div",{className:"flex justify-center items-center my-[20px]",children:m(F,{activePage:a,itemsCountPerPage:15,totalItemsCount:e.totalPage,pageRangeDisplayed:5,onChange:e=>r(e)})})]})})},ut=e=>m("div",{className:"mt-5",children:m(mt,{})}),pt=C(k({initialState:{statistic:void 0,loading:!1},actions:{setStatistic:e=>({setState:t,getState:a})=>{t(c(d({},a()),{statistic:e}))}}}),{selector:e=>({statistic:e.statistic||void 0})}),gt=()=>{var e,t,a,r,l;const[n,s]=pt();return h("div",{className:"grid grid-cols-4 gap-6 xl:grid-cols-1",children:[h("div",{className:"report-card group",children:[m("div",{className:"card transition-all ease-in-out duration-300 rounded bg-white border border-gray-300 group-hover:shadow-lg group-hover:border-white group-hover:scale-[1.1]]",children:h("div",{className:"card-body p-6 flex flex-col",children:[h("div",{className:"flex flex-row justify-between items-center",children:[m("div",{className:"h6 text-indigo-700",children:"💵"}),m("span",{className:"rounded-full text-white badge bg-red-400 text-xs flex px-2 py-2",children:null==(e=n.statistic)?void 0:e.orderCount})]}),h("div",{className:"mt-8",children:[m("h1",{className:"h5 num-4"}),m("p",{children:"Số lượng đơn hàng"})]})]})}),m("div",{className:"transition-all ease-in-out duration-300 bg-white p-1 mx-4 border border-t-0 rounded rounded-t-none"})]}),h("div",{className:"report-card group",children:[m("div",{className:"card transition-all ease-in-out duration-300 rounded bg-white border border-gray-300 group-hover:shadow-lg group-hover:border-white group-hover:scale-[1.1]]",children:h("div",{className:"card-body p-6 flex flex-col",children:[h("div",{className:"flex flex-row justify-between items-center",children:[m("div",{className:"h6 text-indigo-700",children:"📦"}),m("span",{className:"rounded-full text-white badge bg-red-400 text-xs flex px-2 py-2",children:null==(t=n.statistic)?void 0:t.productCount})]}),h("div",{className:"mt-8",children:[m("h1",{className:"h5 num-4"}),m("p",{children:"Số lượng sản phẩm"})]})]})}),m("div",{className:"transition-all ease-in-out duration-300 bg-white p-1 mx-4 border border-t-0 rounded rounded-t-none"})]}),h("div",{className:"report-card group",children:[m("div",{className:"card transition-all ease-in-out duration-300 rounded bg-white border border-gray-300 group-hover:shadow-lg group-hover:border-white group-hover:scale-[1.1]]",children:h("div",{className:"card-body p-6 flex flex-col",children:[h("div",{className:"flex flex-row justify-between items-center",children:[m("div",{className:"h6 text-indigo-700",children:"📑"}),h("span",{className:"rounded-full text-white badge bg-red-400 text-xs flex px-2 py-2",children:[null==(a=n.statistic)?void 0:a.categoryCount," /"," ",null==(r=n.statistic)?void 0:r.subCategoryCount]})]}),h("div",{className:"mt-8",children:[m("h1",{className:"h5 num-4"}),m("p",{children:"Số lượng danh mục/ danh mục con"})]})]})}),m("div",{className:"transition-all ease-in-out duration-300 bg-white p-1 mx-4 border border-t-0 rounded rounded-t-none"})]}),h("div",{className:"report-card group",children:[m("div",{className:"card transition-all ease-in-out duration-300 rounded bg-white border border-gray-300 group-hover:shadow-lg group-hover:border-white group-hover:scale-[1.1]]",children:h("div",{className:"card-body p-6 flex flex-col",children:[h("div",{className:"flex flex-row justify-between items-center",children:[m("div",{className:"h6 text-indigo-700",children:"💻"}),m("span",{className:"rounded-full text-white badge bg-red-400 text-xs flex px-2 py-2",children:null==(l=n.statistic)?void 0:l.totalAccessIndexCount})]}),h("div",{className:"mt-8",children:[m("h1",{className:"h5 num-4"}),m("p",{children:"Số lượng truy cập trang chủ"})]})]})}),m("div",{className:"transition-all ease-in-out duration-300 bg-white p-1 mx-4 border border-t-0 rounded rounded-t-none"})]})]})},xt={method:U.DELETE,url:"admin/priceShips"},bt={method:U.GET,url:"admin/priceShips"},yt=C(k({initialState:{priceShip:[],priceShipDetail:void 0,loading:!1,totalPage:0,pageNo:1},actions:{setPriceShip:(e,t)=>({setState:a,getState:r})=>{a(c(d({},r()),{priceShip:e,totalPage:t}))},setPriceShipDetail:e=>({setState:t,getState:a})=>{t(c(d({},a()),{priceShipDetail:e}))},setPageNo:e=>({setState:t,getState:a})=>{t(c(d({},a()),{pageNo:e}))}}}),{selector:e=>({priceShip:e.priceShip||[],priceShipDetail:e.priceShipDetail,totalPage:e.totalPage,pageNo:e.pageNo})}),Nt={method:U.POST,url:"admin/priceShips"},ft=b({province:y().required("Vui lòng chọn category"),priceShip:y().required("Vui lòng nhập giá ship")}).required(),vt=e=>{const{handleHideFrom:t}=e,[a,r]=yt(),{register:l,handleSubmit:n,setValue:s,formState:{errors:i}}=N({resolver:S(ft)});return m("div",{className:"py-6 px-4 max-w-[600px] w-full relative  ",children:m("div",{className:"w-full bg-white rounded shadow-2xl p-8 m-4 productForm-wrapper z-10",children:h("div",{className:"py-6 px-4",children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Tạo mới"}),h("form",{onSubmit:n((async e=>{const a={province:e.province,priceShip:e.priceShip},l=await(async e=>X(Nt,{body:e}))(a);l.success?(r.setPriceShip(l.data.datas,l.data.totalItem),t(),W("Tạo giá ship thành công")):W("Tạo giá ship thất bại")})),children:[h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"name_provider",children:"Địa chỉ"}),m("input",c(d({},l("province")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"name_provider",defaultValue:"",placeholder:"VD: Hồ Chí Minh"})),i.province&&m(Y,{title:i.province.message})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"price_ship",children:"Giá"}),m("input",c(d({},l("priceShip")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"price_ship",placeholder:"VD: 80000"})),i.priceShip&&m(Y,{title:i.priceShip.message})]}),m("div",{className:"flex justify-center items-center",children:m("button",{className:"border border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})})]})]})})})},wt={method:U.PATCH,url:"admin/priceShips"},St=b({province:y().required("Vui lòng nhập category"),priceShip:y().required("Vui lòng nhập giá ship"),status:P().required("Vui lòng chọn trạng thái")}).required(),Ct=e=>{var t,a,r,l;const{handleHideFrom:n}=e,s=[{id:0,value:"Không hoạt động"},{id:1,value:"Đang hoạt động"}],[o,u]=yt(),[p,g]=i.useState(s[(null==(t=o.priceShipDetail)?void 0:t.status)||0]);i.useEffect((()=>{o.priceShipDetail.status&&(g(s[o.priceShipDetail.status]),y("status",o.priceShipDetail.status))}),[null==(a=o.priceShipDetail)?void 0:a.status]);const{register:x,handleSubmit:b,setValue:y,formState:{errors:f}}=N({resolver:S(St)});return m("div",{className:"py-6 px-4 max-w-[600px] w-full relative  ",children:m("div",{className:"w-full bg-white rounded shadow-2xl p-8 m-4 productForm-wrapper z-10",children:h("div",{className:"py-6 px-4",children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Cập nhật"}),h("form",{onSubmit:b((async e=>{var t;const a={id:null==(t=o.priceShipDetail)?void 0:t.id,province:e.province,priceShip:e.priceShip,status:e.status},r=await(async e=>X(wt,{body:e}))(a);r.success?(u.setPriceShip(r.data.datas,r.data.totalItem),n(),W("Cập nhật giá ship thành công")):W("Cập nhật giá ship thất bại")})),children:[h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"name_provider",children:"Địa chỉ"}),m("input",c(d({},x("province")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"name_provider",defaultValue:null==(r=o.priceShipDetail)?void 0:r.province})),f.province&&m(Y,{title:f.province.message})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"price_ship",children:"Giá"}),m("input",c(d({},x("priceShip")),{className:"border py-2 px-3 text-grey-800",type:"text",id:"price_ship",defaultValue:null==(l=o.priceShipDetail)?void 0:l.priceShip})),f.priceShip&&m(Y,{title:f.priceShip.message})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"Select",children:"Trạng thái"}),m(be,c(d({},x("status")),{state:p.value,handleChoose:e=>{g(e),y("status",e.id)},idCheckBox:"status",list:s})),f.status&&m(Y,{title:f.status.message})]}),m("div",{className:"flex justify-center items-center",children:m("button",{className:"border border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})})]})]})})})},kt=()=>{const[e,t]=yt(),a=async e=>{const a=await(async(e=0)=>X(bt,{params:{pageNo:e}}))(e);a.success?t.setPriceShip(a.data.datas,a.data.totalItem):(console.log(a.message),t.setPriceShip([],0))};i.useEffect((()=>{a(e.pageNo-1)}),[e.pageNo]);const r=async e=>{const a=await(async e=>X(xt,{params:{id:e}}))(e);a.success?(t.setPriceShip(a.data.datas,a.data.totalItem),W("Xóa giá ship thành công")):W("Xóa giá ship thất bại")},[l,n]=i.useState(!1),[s,d]=i.useState(!1);return h("div",{children:[h("div",{className:"rounded bg-white border border-gray-300",children:[h("div",{className:"flex items-center justify-between px-5",children:[m("div",{className:"p-6",children:"Danh Sách Giá Ship"}),m("div",{children:m(he,{onClick:()=>{d(!0)},children:"Tạo mới"})})]}),h("table",{className:"table-auto w-full text-left",children:[m("thead",{children:h("tr",{children:[m("th",{className:"px-4 py-2 border-r border-t text-center",children:"Địa chỉ"}),m("th",{className:"px-4 py-2 border-r border-t text-center",children:"Giá"}),m("th",{className:"px-4 py-2 border-r border-t text-center",children:"Trạng thái"}),m("th",{className:"px-4 py-2 border-r border-t text-center",children:"Cập nhật"}),m("th",{className:"px-4 py-2 border-r border-t text-center",children:"Chức năng"},"action")]})}),m("tbody",{className:"text-gray-600",children:e.priceShip.map(((e,a)=>h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:e.province}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:xe(e.priceShip)}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:m("span",{className:" px-3 py-2 text-white rounded-md select-none "+(1===e.status?"bg-green-400":"bg-red-400"),children:e.status?"Đang hoạt động":"Không hoạt động"})}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:E(e.updatedAt).fromNow()}),m("td",{className:"border border-l-0 border-r-0 px-4 py-2 text-center w-[150px]",children:h(de,{children:[m(ce,{onClick:()=>{(e=>{t.setPriceShipDetail(e),n(!0)})(e)},children:m(I,{})}),m(ce,{onClick:()=>{r(e.id)},children:m(T,{})})]})})]},a)))})]}),m("div",{className:"h-[60px] flex justify-center items-center",children:m(F,{activePage:e.pageNo,itemsCountPerPage:15,totalItemsCount:e.totalPage,pageRangeDisplayed:5,onChange:e=>t.setPageNo(e)})})]}),l&&m(ie,{showed:!0,setShowed:n,children:m(Ct,{handleHideFrom:()=>n(!1)})}),s&&m(ie,{showed:s,setShowed:d,children:m(vt,{handleHideFrom:()=>d(!1)})})]})},Pt=e=>m("div",{className:"mt-5",children:m(kt,{})}),Dt=C(k({initialState:{products:[],productDetail:null,idProduct:-1,totalPage:0,pageNo:1},actions:{getProductSuccess:(e,t)=>({setState:a,getState:r})=>{a(c(d({},r()),{products:e,totalPage:t}))},getProductError:()=>({setState:e,getState:t})=>{e(c(d({},t()),{products:[]}))},setProductDetail:e=>({setState:t,getState:a})=>{t(c(d({},a()),{productDetail:e}))},setIdProduct:e=>({setState:t,getState:a})=>{t(c(d({},a()),{idProduct:e}))},setPageNo:e=>({setState:t,getState:a})=>{t(c(d({},a()),{pageNo:e}))}}}),{selector:e=>({products:e.products,productDetail:e.productDetail,product:e.products.find((t=>t.id===e.idProduct)),totalPage:e.totalPage,pageNo:e.pageNo})});const Tt=e=>{const[t,a]=Ye(),[r,l]=Dt(),n={id:-1,value:"Value"},[s,d]=i.useState(n),[c,o]=i.useState(n),u=async()=>{if(console.log("asdb"),-1===s.id||-1===c.id)return void console.log("handle Fail");const t={categoryId:s.id,subcategoryId:c.id,pageNo:r.pageNo-1},a=await(async({categoryId:e,subcategoryId:t,pageNo:a=0})=>X(Oe,{params:{categoryId:e,subcategoryId:t,pageNo:a}}))(t);a.success?(l.getProductSuccess(a.data.datas,a.data.totalItem),W("Tạo sản phẩm thành công"),e.hiddenCreate()):W("Tạo sản phẩm thất bại")};return m("div",{children:h("div",{className:"max-w-[1200px] min-w-[400px] py-8 px-8 w-full relative createProduct_wrapper",children:[m("h3",{className:"text-2xl text-center mb-5",children:"Tạo sản phẩm"}),h("div",{className:"flex flex-col gap-x-3 gap-y-4",children:[h("div",{children:[m("h3",{className:"text-lg mb-2",children:"Danh mục"}),m("div",{className:"w-full pl-3",children:m(be,{state:s.value,handleChoose:e=>{d(e),a.setIdCategory(e.id)},list:t.listCategory,idCheckBox:"category_checked"})})]}),h("div",{className:"",children:[m("h3",{className:"text-lg mb-2",children:"Danh mục con"}),m("div",{className:"w-full pl-3",children:m(be,{state:c.value,handleChoose:e=>{o(e),a.setIdCategory(e.id)},idCheckBox:"sub_category_checked",list:t.listSubCategory()})})]}),m("div",{className:"flex items-center justify-center mt-3",children:m(he,{onClick:()=>u(),children:"Lưu"})})]})]})})},Et={method:U.PATCH,url:"admin/products"};const Vt=e=>{const[t,a]=Ye(),[r,l]=Dt(),[n,s]=i.useState({id:r.product.category.id,value:r.product.category.nameVn}),[o,u]=i.useState({id:r.product.subCategory.id,value:r.product.subCategory.nameVn}),[p,g]=i.useState([]);i.useEffect((()=>{var e;g((null==(e=r.product)?void 0:e.productImages.map((e=>c(d({},e),{flag:!0}))))||[])}),[r.product]);return i.useEffect((()=>{(async()=>{const e=await dt();e.success&&a.getCategorySuccess(e.data)})()}),[]),m("div",{children:h("form",{onSubmit:async t=>{t.preventDefault();const a={productId:r.product.id,categoryId:n.id,subCategoryId:o.id,images:p.map((e=>({id:e.id,url:e.url,status:e.status})))},s=await(async(e,t)=>X(Et,{params:e,body:t}))({pageNo:r.pageNo-1},a);s.success?(l.getProductSuccess(s.data.datas,s.data.totalItem),e.hideForm(),W("Cập nhật sản phẩm thành công")):W("Cập nhật sản phẩm thất bại")},className:"max-w-[1200px] min-w-[800px] py-8 px-8 w-full relative createProduct_wrapper",children:[m("h3",{className:"text-2xl text-center mb-5",children:"Cập nhật"}),h("div",{className:"flex flex-col gap-x-3 gap-y-4",children:[h("div",{children:[m("h3",{className:"text-lg mb-2",children:"Danh mục"}),m("div",{className:"w-full pl-3",children:m(be,{state:n.value,handleChoose:e=>{s(e),a.setIdCategory(e.id)},list:t.listCategory,idCheckBox:"category_checked2"})})]}),h("div",{className:"",children:[h("h3",{className:"text-lg mb-2",children:["Danh mục con",h("span",{className:" text-red-500 text-base",children:[" ","(Chọn lại danh mục con khi thay đổi danh mục)"]})]}),m("div",{className:"w-full pl-3",children:m(be,{state:o.value,handleChoose:e=>{u(e),a.setIdCategory(e.id)},idCheckBox:"sub_category_checked2",list:t.listSubCategory()})})]}),m("div",{children:h("div",{children:[h("div",{className:"grid mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"name_Product",children:"Link ảnh"}),m("div",{className:"grid gap-y-[20px] pl-3",children:p.map(((e,t)=>1===e.status?h("div",{className:"flex gap-[20px] items-center",children:[m("input",{className:"border py-2 px-3 text-grey-800 w-full",type:"text",name:"name_Product",id:"name_Product",defaultValue:e.url,onChange:e=>((e,t)=>{const a=[...p];a[t].url=e.target.value,g(a)})(e,t)}),m("div",{className:"w-[70px]",children:m("p",{className:"cursor-pointer text-red-500 select-none",onClick:()=>(e=>{const t=[...p],a=t.filter((e=>1===e.status));a.length<=1?W("Số lượng hình tối thiểu là một"):(console.log("lenght",a.length),t[e].flag?t[e].status=0:t.splice(e,1),g(t))})(t),children:"Xóa link"})})]},t):m(H,{})))})]}),m("p",{className:"cursor-pointer text-red-500 select-none",onClick:()=>{g([...p,{id:0,url:"",status:1,flag:!1}])},children:"+ Thêm link ảnh"})]})}),m("div",{className:"flex items-center justify-center mt-3",children:m(he,{onClick:()=>{},children:"Lưu"})})]})]})})},It=({productDetail:e})=>h("div",{className:" p-8 ",children:[m("h3",{className:"font-light text-3xl sm:text-2xl md:text-3xl text-[#4FD1C5]",children:null==e?void 0:e.name}),h("ul",{children:[m("li",{className:"my-4",children:h("p",{children:[m("span",{className:"text-base md:text-xl text-#4FD1C5 font-light",children:"Mã SP"}),": ",m("span",{className:"text-base md:text-xl",children:"3730"})]})}),m("li",{className:"my-4",children:h("p",{children:[m("span",{className:"text-base md:text-xl text-#4FD1C5 font-light",children:"Danh mục"}),":"," ",h("span",{className:"text-base md:text-xl",children:[null==e?void 0:e.categoryName," / ",null==e?void 0:e.subCategoryName]})]})}),m("li",{className:"my-4",children:h("p",{children:[m("span",{className:"text-base md:text-xl text-#4FD1C5 font-light",children:"Giá"}),":"," ",m("span",{className:"text-base md:text-xl",children:null==e?void 0:e.price})]})}),m("li",{className:"my-4",children:h("p",{children:[m("span",{className:"text-base md:text-xl text-#4FD1C5 font-light",children:"Tình trạng"}),":"," ",m("span",{className:"text-base md:text-xl",children:1===(null==e?void 0:e.inventory)?"Còn hàng":"Hết hàng"})]})})]})]});const Ft=()=>{const[e,t]=Dt(),{productDetail:a}=e;return m("div",{className:"py-8 px-4 productDetail",children:m("div",{className:"max-w-[1200px] w-full relative productDetail-content",children:m("div",{className:"grid grid-cols-2 gap-x-4 px-4 py-6 h-[600px]",children:h("div",{className:"col-span-2",children:[h("div",{className:"mt-5 grid grid-cols-2 lg:h-[350px] gap-[20px]",children:[m("div",{className:"lg:col-span-1 h-[350px]",children:m("img",{src:null==a?void 0:a.productImages[0],style:{width:"100%",height:"95%",objectFit:"cover"}})}),m("div",{className:"lg:col-span-1",children:m(It,{productDetail:a})})]}),h("div",{children:[m("h3",{className:"font-light text-3xl sm:text-2xl md:text-3xl truncate text-[#4FD1C5]",children:null==a?void 0:a.name}),m("div",{className:"px-7 py-5 flex flex-col gap-x-2 gap-y-3",dangerouslySetInnerHTML:{__html:(null==a?void 0:a.description)||""}})]})]})})})})};const _t=[{id:0,value:"Hết hàng"},{id:1,value:"Còn hàng"}],Bt=[{id:0,value:"Không hoạt động"},{id:1,value:"Đang hoạt động"}],Lt=e=>{const{hideForm:t}=e,[a,r]=Dt(),{productDetail:l}=a,n=i.useRef(null),s=async e=>{e.preventDefault();const s={id:l.id,name:e.target.name_Product.value,price:e.target.price_Product.value,inventory:c.id,description:n.current.getContent(),status:u.id,productId:l.productId,videoUrl:e.target.video.value},i=await(async(e,t)=>X(ze,{params:e,body:d({},t)}))({pageNo:a.pageNo-1},s);i.success?(console.log("success"),r.getProductSuccess(i.data.datas,i.data.totalItem),t(),W("Cập nhật sản phẩm thành công")):W("Cập nhật sản phẩm thất bại")},[c,o]=i.useState(_t[(null==l?void 0:l.inventory)||0]),[u,p]=i.useState(Bt[(null==l?void 0:l.status)||0]);return h("div",{className:"py-6 px-4 mt-[20px] bg-white",children:[m("h1",{className:"block w-full text-center text-gray-800 text-2xl font-bold mb-6",children:"Cập nhật"}),h("form",{action:"/",method:"post",onSubmit:e=>s(e),children:[m("div",{className:"flex flex-col mb-4",children:h("h3",{className:"mb-2 font-bold text-lg text-gray-900",children:["Mã sản phẩm : ",null==l?void 0:l.id]})}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"name_Product",children:"Tên sản phẩm"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"name_Product",id:"name_Product",defaultValue:null==l?void 0:l.name})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"price_Product",children:"Giá"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"price_Product",id:"price_Product",defaultValue:null==l?void 0:l.price})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"description_Product",children:"Mô tả"}),m(B,{apiKey:"y76jxx43mgkptc4d0yhzovx3duuirvviil3zetp2ekdkhjaq",onInit:(e,t)=>n.current=t,initialValue:(null==l?void 0:l.description)||"",init:{height:400,menubar:!0,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"undo redo | formatselect | bold italic | TextColor |             alignleft aligncenter alignright |             bullist numlist outdent indent| Image | help"}})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"video",children:"Link video"}),m("input",{className:"border py-2 px-3 text-grey-800",type:"text",name:"video",id:"video",defaultValue:l.videoUrl})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"Select",children:"Tình trạng"}),m(be,{state:c.value,handleChoose:e=>{o(e)},idCheckBox:"inventory_checked",list:_t})]}),h("div",{className:"flex flex-col mb-4",children:[m("label",{className:"mb-2 font-bold text-lg text-gray-900",htmlFor:"Select",children:"Trạng thái"}),m(be,{state:u.value,handleChoose:e=>{p(e)},idCheckBox:"status_checked",list:Bt})]}),h("div",{className:"flex justify-center items-center gap-x-[20px]",children:[m("button",{onClick:()=>t(),className:"border min-w-[120px] justify-center border-[#38b2ac] text-[#38b2ac] rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Hủy"}),m("button",{className:"border min-w-[120px] justify-center  border-[#38b2ac] bg-[#38b2ac] text-white rounded-sm font-bold py-2 px-6 ml-2 flex items-center",children:"Lưu"})]})]})]})},jt=i.memo((({handleShowDetail:e,handleShowForm:t,handleShowCreateProduct:a,handleShowEdit:r})=>{const[l,n]=Dt(),[s,d]=_.exports.useState(""),c=async(e,t)=>{const a=await(async({pageNo:e=0,search:t})=>X(Ge,{params:{pageNo:e,search:t}}))({pageNo:e-1,search:t});a.success?n.getProductSuccess(a.data.datas,a.data.totalItem):n.getProductError()};i.useEffect((()=>{c(l.pageNo,s)}),[l.pageNo,s]);return h("div",{className:"rounded bg-white border border-gray-300",children:[h("div",{className:"flex items-center justify-between px-5",children:[m("div",{className:"p-6",children:"Danh Sách Sản Phẩm"}),h("div",{children:[m("label",{className:"mr-[10px]",htmlFor:"",children:"Tìm kiếm theo tên tiếng Việt:"}),m("input",{className:"border py-2 px-3 text-grey-800  mr-20 w-[300px]",type:"text",name:"search",placeholder:"Tìm kiếm",onChange:qe((e=>{d(e.target.value),n.setPageNo(1)}),500)}),m(he,{onClick:a,children:"Tạo sản phẩm"})]})]}),h("table",{className:"table-auto w-full text-left",children:[m("thead",{children:h("tr",{className:"border-t",children:[m("th",{className:"px-4 py-2 border-r text-center",children:"Mã SP"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Ảnh"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Tên sản phẩm 🇻🇳"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Tên sản phẩm 🇺🇸"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Ngày tạo"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Chức năng"},"action")]})}),m("tbody",{className:"text-gray-600",children:l.products.map(((a,l)=>h(i.Fragment,{children:[h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:a.id}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black flex justify-center",children:m("div",{className:"w-[100px] h-[100px] rounded-xl",children:m("img",{src:a.productImages[0].url,className:"w-full h-full object-cover rounded-xl",alt:""})})}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:a.productNameVn}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:a.productNameEn}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:E(a.createdAt).fromNow()}),m("td",{className:"border border-l-0 border-r-0 px-4 py-2 text-center",children:h(de,{children:[m("label",{htmlFor:`child${l}`,children:m(ce,{onClick:()=>{},children:m(V,{})})}),m(ce,{onClick:()=>{return e=a.id,n.setIdProduct(e),void r();var e},children:m(I,{})})]})})]}),a.productTexts.length>0&&m("tr",{children:m("td",{colSpan:6,children:h("div",{className:"overflow-hidden",children:[m("input",{type:"checkbox",name:"openTable",id:`child${l}`,hidden:!0}),m("div",{className:"rounded bg-white py-4 px-3 tableChild",children:h("table",{className:"table-auto w-full text-left border-2  rounded-md border-green-400",children:[m("thead",{children:h("tr",{className:"text-black text-center capitalize",children:[m("th",{className:"px-4 py-2 border-r border-green-400",children:"Ngôn ngữ"}),m("th",{className:"px-4 py-2 border-r border-green-400",children:"Tên"}),m("th",{className:"px-4 py-2 border-r border-green-400",children:"Giá"}),m("th",{className:"px-4 py-2 border-r border-green-400 w-[130px]",children:"Tình trạng"}),m("th",{className:"px-4 py-2 border-r border-green-400",children:"Đường dẫn"}),m("th",{className:"px-4 py-2 border-r border-green-400 w-[190px]",children:"Trạng thái"}),m("th",{className:"px-4 py-2 border-r border-green-400",children:"Cập nhật"}),m("th",{className:"px-4 py-2  w-[180px]",children:"Chức năng"})]})}),m("tbody",{className:"text-black",children:a.productTexts.map(((r,l)=>h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:1==r.lang?"🇺🇸":"🇻🇳"}),m("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:r.name}),m("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:r.price}),m("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:m("span",{className:" px-3 py-2 text-white rounded-md select-none "+(1===r.inventory?"bg-green-400":"bg-red-400"),children:r.inventory?"Còn hàng":"Hết hàng"})}),h("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:["/",r.slug]}),m("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:m("span",{className:" px-3 py-2 text-white rounded-md select-none "+(1===r.status?"bg-green-400":"bg-red-400"),children:r.status?"Đang hoạt động":"Không hoạt động"})}),m("td",{className:"border border-l-0 px-4 py-2 border-green-400",children:E(r.updatedAt).fromNow()}),m("td",{className:"border border-l-0 border-r-0 border-green-400 px-4 py-2",children:h(de,{children:[m(ce,{onClick:()=>e(a,r),children:m(V,{})}),m(ce,{onClick:()=>t(a,r),children:m(I,{})})]})})]},l)))})]})})]})})})]},l)))})]}),m("div",{className:"h-[60px] flex justify-center items-center",children:m(F,{activePage:l.pageNo,itemsCountPerPage:15,totalItemsCount:l.totalPage,pageRangeDisplayed:5,onChange:e=>{n.setPageNo(e)}})})]})})),Mt=()=>{const[e,t]=Dt(),[a,r]=i.useState(!1),[l,n]=i.useState(!1),[s,o]=i.useState(!1),[u,p]=i.useState(!1);return h("div",{children:[s&&m(ie,{showed:!0,setShowed:o,children:m(Tt,{hiddenCreate:()=>o(!1)})}),a&&m(ie,{showed:!0,setShowed:r,children:m(Ft,{})}),u&&m(ie,{showed:!0,setShowed:p,children:m(Vt,{hideForm:()=>p(!1)})}),l?m(Lt,{hideForm:()=>n(!1)}):m("div",{children:m(jt,{handleShowEdit:()=>p(!0),handleShowDetail:(e,a)=>{r(!0);const l=c(d({},a),{categoryName:1===a.lang?e.category.nameEn:e.category.nameVn,subCategoryName:1===a.lang?e.subCategory.nameEn:e.subCategory.nameVn,productImages:e.productImages.map((e=>e.url))});t.setProductDetail(l)},handleShowForm:(e,a)=>{n(!0);const r=c(d({},a),{categoryName:1===a.lang?e.category.nameEn:e.category.nameVn,subCategoryName:1===a.lang?e.subCategory.nameEn:e.subCategory.nameVn});t.setProductDetail(r)},handleShowCreateProduct:()=>{o(!0)}})})]})},Ht=e=>{const[t,a]=Dt(),[r,l]=Ye();return i.useEffect((()=>{(async()=>{const e=await dt();e.success?l.getCategorySuccess(e.data):a.getProductError()})()}),[]),m("div",{className:"mt-5",children:m(Mt,{})})},qt={method:U.GET,url:"admin/users"},At=C(k({initialState:{users:[],loading:!1,totalPage:0},actions:{setUser:(e,t)=>({setState:a,getState:r})=>{a(c(d({},r()),{users:e,totalPage:t}))}}}),{selector:e=>({users:e.users||[],totalPage:e.totalPage})}),Rt=()=>{const[e,t]=At(),[a,r]=i.useState(1),l=async e=>{const a=await(async({pageNo:e=0})=>X(qt,{params:{pageNo:e}}))({pageNo:e});!0===a.success?t.setUser(a.data.datas,a.data.totalItem):(t.setUser([],0),console.log(a.data))};return i.useEffect((()=>{l(a-1)}),[a]),m("div",{children:h("div",{className:"rounded bg-white border border-gray-300",children:[m("div",{className:"border-b p-6",children:"Danh Sách Tài Khoản"}),h("table",{className:"table-auto w-full text-left",children:[m("thead",{children:h("tr",{children:[m("th",{className:"px-4 py-2 border-r text-center",children:"Email"}),m("th",{className:"px-4 py-2 border-r w-[200px] text-center",children:"Tên tài khoản"}),m("th",{className:"px-4 py-2 border-r w-[500px] text-center",children:"Địa chỉ"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Số điện thoại"}),m("th",{className:"px-4 py-2 border-r text-center w-[200px]",children:"Trạng thái"}),m("th",{className:"px-4 py-2 border-r text-center",children:"Lần truy cập gần nhất"})]})}),m("tbody",{className:"text-gray-600",children:e.users.map(((e,t)=>h("tr",{children:[m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:e.email}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:e.name}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:e.address}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:e.phone}),m("td",{className:"border border-l-0 px-4 py-2 text-center text-black",children:m("span",{className:" px-3 py-2 text-white rounded-md "+(1===e.status?"bg-green-400":"bg-red-400"),children:pe[e.status].value})}),m("td",{className:"border border-l-0 px-4 py-2 text-left text-black",children:E(e.lastAccess).fromNow()})]},t)))})]})]})})},Ot=()=>m("div",{className:"mt-5",children:m(Rt,{})}),Gt=C(k({initialState:{user:void 0},actions:{setUser:e=>({setState:t,getState:a})=>{t(c(d({},a()),{user:e}))}}}),{selector:e=>({user:e.user})}),zt=()=>{const[e,t]=pt(),[a,r]=Gt(),l=async()=>{const e=await(async()=>X(ee))();e.success?(console.log(e.data),t.setStatistic(e.data)):(console.log(e.message),t.setStatistic(void 0))},n=async()=>{const e=await(async({token:e})=>X(te,{params:{token:e}}))({token:""});e.success?r.setUser(e.data):r.setUser(void 0)};return i.useEffect((()=>{l()}),[]),i.useEffect((()=>{n()}),[]),m(q,{children:m(_.exports.Suspense,{fallback:m("h1",{children:"Loading ..."}),children:h("div",{className:"h-screen flex flex-row flex-wrap",children:[m(le,{}),h("div",{className:"bg-gray-100 flex-1 p-6 md:mt-16",children:[m(gt,{}),h(A.Switch,{children:[m(A.Route,{path:"/admin/bill-manager",exact:!0,children:m(_e,{})}),m(A.Route,{path:"/admin/banner-manager",exact:!0,children:m(ke,{})}),m(A.Route,{path:"/admin/category-manager",exact:!0,children:m(ct,{})}),m(A.Route,{path:"/admin/user-manager",exact:!0,children:m(Ot,{})}),m(A.Route,{path:"/admin/product-manager",exact:!0,children:m(Ht,{})}),m(A.Route,{path:"/admin/blog-manager",exact:!0,children:m(je,{})}),m(A.Route,{path:"/admin/blog-manager/:slug",exact:!0,children:m(Re,{})}),m(A.Route,{path:"/admin/price-ship-manager",exact:!0,children:m(Pt,{})}),m(A.Route,{path:"/admin/email-request",exact:!0,children:m(ut,{})})]})]})]})})})},Ut={method:U.GET,url:"/users/forgotPassword"},Kt=b({email:y().email("Email chưa đúng định dạng").required("Vui lòng nhập email")}).required(),Qt=e=>{const{register:t,handleSubmit:a,formState:{errors:r}}=N({resolver:S(Kt)});return m("div",{className:"flex items-center justify-center h-screen",children:m("div",{className:"w-1/2 max-w-[550px]",children:h("div",{className:"mt-10 px-12 sm:px-24 md:px-48 lg:px-12 lg:mt-16 xl:px-24 xl:max-w-2xl",children:[m("h2",{className:"text-center text-4xl text-green-400 font-display font-semibold lg:text-left xl:text-5xl xl:text-bold",children:"Quên mật khẩu"}),m("div",{className:"mt-12",children:h("form",{onSubmit:a((async e=>{(await(async({email:e})=>X(Ut,{params:{email:e,lang:0,admin:1}}))({email:e.email})).success&&window.open("https://mail.google.com/mail","_blank")})),children:[h("div",{children:[m("div",{className:"text-sm font-bold text-gray-700 tracking-wide",children:"Tên tài khoản"}),m("input",c(d({},t("email")),{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-green-600",type:"",placeholder:"mike@gmail.com"})),r.email&&m(Y,{title:r.email.message})]}),m("div",{className:"mt-10",children:m("button",{className:"bg-green-400 text-white p-4 w-full rounded-full tracking-wide font-semibold font-display focus:outline-none focus:shadow-outline hover:bg-opacity-80 shadow-lg",children:"Quên mật khẩu"})})]})})]})})})},Xt={method:U.POST,url:"/users/updatePassword"},$t=b({password:y().min(8,"Mật khẩu phải có ít nhất 8 ký tự").required("Vui lòng nhập mật khẩu"),confirmPassword:y().min(8,"Mật khẩu phải có ít nhất 8 ký tự").oneOf([R("password")],"Mật khẩu không khớp")}).required(),Yt=e=>{const{register:t,handleSubmit:a,formState:{errors:r}}=N({resolver:S($t)}),l=o(),n=new URLSearchParams(l.location.search),[s,u]=i.useState(!1);return m("div",{className:"flex items-center justify-center h-screen",children:m("div",{className:"w-1/2 max-w-[550px]",children:h("div",{className:"mt-10 px-12 sm:px-24 md:px-48 lg:px-12 lg:mt-16 xl:px-24 xl:max-w-2xl",children:[m("h2",{className:"text-center text-4xl text-green-400 font-display font-semibold lg:text-left xl:text-5xl xl:text-bold",children:"Quên mật khẩu"}),m("div",{className:"mt-12",children:h("form",{onSubmit:a((async e=>{(await(async({forgotPasswordCode:e,newPassword:t})=>X(Xt,{body:{forgotPasswordCode:e,newPassword:t}}))({newPassword:e.password,forgotPasswordCode:n.get("forgotPasswordCode")})).success&&(W("Đổi mật khẩu thành công"),l.push("/login"))})),children:[h("div",{children:[m("div",{className:"text-sm font-bold text-gray-700 tracking-wide",children:"Password"}),h("div",{className:"relative",children:[m("input",c(d({},t("password")),{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-green-600",type:s?"text":"password",placeholder:"VD: 12345"})),m("div",{className:"absolute top-[50%] right-[15px] translate-y-[-50%] cursor-pointer",onClick:()=>u(!s),children:m(s?v:w,{className:"text-[20px]"})})]}),r.password&&m(Y,{title:r.password.message})]}),h("div",{className:"mt-[20px]",children:[m("div",{className:"text-sm font-bold text-gray-700 tracking-wide",children:"Confirm Password"}),h("div",{className:"relative",children:[m("input",c(d({},t("confirmPassword")),{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-green-600",type:s?"text":"password",placeholder:"VD: 12345"})),m("div",{className:"absolute top-[50%] right-[15px] translate-y-[-50%] cursor-pointer",onClick:()=>u(!s),children:m(s?v:w,{className:"text-[20px]"})})]}),r.confirmPassword&&m(Y,{title:r.confirmPassword.message})]}),m("div",{className:"mt-10",children:m("button",{className:"bg-green-400 text-white p-4 w-full rounded-full tracking-wide font-semibold font-display focus:outline-none focus:shadow-outline hover:bg-opacity-80 shadow-lg",children:"Quên mật khẩu"})})]})})]})})})};function Wt(){return h("div",{className:"App",children:[h(q,{children:[h(A.Switch,{children:[m(A.Route,{path:"/login",exact:!0,children:m(Z,{})}),m(A.Route,{path:"/forgotPassword",exact:!0,children:m(Qt,{})}),m(A.Route,{path:"/changePassword",exact:!0,children:m(Yt,{})})]}),m(A.Switch,{children:h(A.Route,{path:"/admin",children:[m(z,{}),m(zt,{})]})})]}),m(O,{position:"top-right",progressClassName:"toastProgress",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}G.render(m(Wt,{}),document.getElementById("root"));
